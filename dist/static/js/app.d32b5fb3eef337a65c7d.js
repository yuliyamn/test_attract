webpackJsonp([1],{"5ccu":function(e,t){},KXyU:function(e,t){},LIXW:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};i.d(r,"UPDATE_CATEGORIES_SELECTED",function(){return T}),i.d(r,"UPDATE_CITY_SELECTED",function(){return $}),i.d(r,"UPDATE_PRICE_SELECTED",function(){return P});var a=i("7+uW"),c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=i("VU/8")({name:"App",components:{}},c,!1,function(e){i("KXyU")},null,null).exports,n=i("/ocq"),o=i("Dd8w"),l=i.n(o),u=i("NYxO"),p={name:"preview",computed:l()({},Object(u.b)(["data","city","category"]),{filteredData:function(){var e=parseInt(this.$route.query.city),t=this.$route.query.categories,i=parseInt(this.$route.query.priceFrom),r=parseInt(this.$route.query.priceTo),a=[];if(!(e||t||i||r))return this.data;t&&(t=t.split(",")).forEach(function(e){a.push(parseInt(e))}),this.$store.commit("UPDATE_CATEGORIES_SELECTED",a),this.$store.commit("UPDATE_CITY_SELECTED",e);var c=this.data;return 0!=e&&(c=c.filter(function(t){return e===t.city})),0===e&&(c=this.data),a.length&&(c=c.filter(function(e){return a.includes(e.category)})),c=c.filter(function(e){return e.price>=i&&e.price<=r})}}),methods:{},comments:{router:E}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview"},e._l(e.filteredData,function(t){return i("div",{staticClass:"preview-item"},[i("div",{staticClass:"preview__img"},[i("img",{attrs:{src:"/../static/images/img-1.jpg",alt:""}}),e._v(" "),i("p",{staticClass:"preview__city",domProps:{innerHTML:e._s(e.city[t.city-1].name)}})]),e._v(" "),i("div",{staticClass:"preview-info"},[i("p",{staticClass:"preview__title",domProps:{innerHTML:e._s(t.name)}}),e._v(" "),i("div",{staticClass:"preview-bottom"},[i("p",{staticClass:"preview__category",domProps:{innerHTML:e._s(e.category[t.category-1].name)}}),e._v(" "),i("p",{staticClass:"preview__price",domProps:{innerHTML:e._s("$"+t.price)}})])])])}))},staticRenderFns:[]};var m=i("VU/8")(p,d,!1,function(e){i("LIXW")},null,null).exports,f=i("GDE4"),y=i.n(f),v={data:function(){return{maxPrice:0,priceValue:[0,this.maxPrice],categoriesSelected:[],citySelected:0,categoryCount:[]}},name:"filters",computed:l()({},Object(u.b)(["data","city","category"])),methods:{pushData:function(){this.$store.commit("UPDATE_CATEGORIES_SELECTED",this.categoriesSelected),this.$store.commit("UPDATE_CITY_SELECTED",this.citySelected),this.$store.commit("UPDATE_PRICE_SELECTED",this.priceValue),E.push({path:"?categories="+this.categoriesSelected+"&city="+this.citySelected+"&priceFrom="+this.priceValue[0]+"&priceTo="+this.priceValue[1]})},GetMaxPrice:function(){var e=this.data,t=Math.max.apply(Math,e.map(function(e){return e.price}));this.maxPrice=t},CountCategory:function(){var e={};this.data.forEach(function(t){e[t.category]=(e[t.category]||0)+1}),this.categoryCount=e}},mounted:function(){var e=this;this.GetMaxPrice(),this.CountCategory(),this.$nextTick(function(){return e.$refs.priceSlider.setValue([0,e.maxPrice])}),(this.$route.query.city||this.$route.query.categories||this.$route.query.priceFrom||this.$route.query.priceTo)&&(this.citySelected=parseInt(this.$route.query.city),this.categories=this.$route.query.categories,this.priceValue=[parseInt(this.$route.query.priceFrom),parseInt(this.$route.query.priceTo)],this.categoriesSelected=[],this.$nextTick(function(){return e.$refs.priceSlider.setValue([parseInt(e.$route.query.priceFrom),parseInt(e.$route.query.priceTo)])}),this.categories&&(this.categories=this.categories.split(","),this.categories.forEach(function(t){e.categoriesSelected.push(parseInt(t))})))},components:{vueSlider:y.a}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filters"},[i("div",{staticClass:"filter-item"},[i("label",{staticClass:"filter__title"},[e._v("City")]),e._v(" "),i("div",{staticClass:"filter-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.citySelected,expression:"citySelected"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.citySelected=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v("All cities")]),e._v(" "),e._l(e.city,function(t){return i("option",{domProps:{selected:e.citySelected,value:t.id,innerHTML:e._s(t.name)}})})],2)])]),e._v(" "),i("div",{staticClass:"filter-item"},[i("label",{staticClass:"filter__title"},[e._v("Categories")]),e._v(" "),i("ul",{staticClass:"filter-list"},e._l(e.category,function(t){return i("li",{staticClass:"filter-list__item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.categoriesSelected,expression:"categoriesSelected"}],staticClass:"filter-checkbox",attrs:{type:"checkbox",name:t.id,id:t.id},domProps:{value:t.id,checked:Array.isArray(e.categoriesSelected)?e._i(e.categoriesSelected,t.id)>-1:e.categoriesSelected},on:{change:function(i){var r=e.categoriesSelected,a=i.target,c=!!a.checked;if(Array.isArray(r)){var s=t.id,n=e._i(r,s);a.checked?n<0&&(e.categoriesSelected=r.concat([s])):n>-1&&(e.categoriesSelected=r.slice(0,n).concat(r.slice(n+1)))}else e.categoriesSelected=c}}}),e._v(" "),i("label",{staticClass:"filter-label",attrs:{for:t.id}},[e._v("\n          "+e._s(t.name)+"\n          "),i("span",{staticClass:"filter-label__count"},[e._v("("+e._s(e.categoryCount[t.id])+")")])])])}))]),e._v(" "),i("div",{staticClass:"filter-item"},[i("label",{staticClass:"filter__title"},[e._v("Price")]),e._v(" "),i("div",[i("vue-slider",{ref:"priceSlider",attrs:{min:0,max:e.maxPrice},scopedSlots:e._u([{key:"tooltip",fn:function(e){return e.priceValue,i("div",{staticClass:"diy-tooltip"})}}]),model:{value:e.priceValue,callback:function(t){e.priceValue=t},expression:"priceValue"}}),e._v(" "),i("div",{staticClass:"filter-bottom"},[i("span",{staticClass:"filter-price-total"},[e._v(e._s("$"+e.priceValue[0]+"   -   $"+e.priceValue[1]))]),e._v(" "),i("button",{staticClass:"filter-button",on:{click:function(t){t.preventDefault(),e.pushData()}}},[e._v("FILTER")])])],1)])])},staticRenderFns:[]};var h={name:"index",components:{filters:i("VU/8")(v,_,!1,function(e){i("5ccu")},null,null).exports,preview:m}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("filters"),this._v(" "),t("preview")],1)},staticRenderFns:[]};var C=i("VU/8")(h,g,!1,function(e){i("izWV")},"data-v-4903b834",null).exports;a.a.config.publicPath=Object({NODE_ENV:"production"}).publicPath,a.a.use(n.a);var E=new n.a({mode:"history",base:a.a.config.publicPath,routes:[{path:"/",name:"Index",component:C}]}),S={data:[{id:1,name:"Name 1",city:1,category:2,price:50},{id:1,name:"Name 1",city:1,category:3,price:50},{id:1,name:"Name 1",city:1,category:4,price:150},{id:2,name:"Name 2",city:4,category:1,price:100},{id:3,name:"Name 3",city:5,category:1,price:1},{id:4,name:"Name 4",city:2,category:4,price:150},{id:5,name:"Name 5",city:3,category:5,price:200}],city:[{id:1,name:"City 1"},{id:2,name:"City 2"},{id:3,name:"City 3"},{id:4,name:"City 4"},{id:5,name:"City 5"}],category:[{id:1,name:"Category 1"},{id:2,name:"Category 2"},{id:3,name:"Category 3"},{id:4,name:"Category 4"},{id:5,name:"Category 5"}],filter:{categoriesSelected:[],citySelected:null,priceFrom:null,priceTo:null}},T=(i("M4fF"),function(e,t){e.filter.categoriesSelected=t}),$=function(e,t){e.filter.citySelected=t},P=function(e,t){e.filter.priceFrom=t[0],e.filter.priceTo=t[1]};a.a.use(u.a);var b=new u.a.Store({state:S,mutations:r});a.a.config.productionTip=!1,new a.a({el:"#app",router:E,store:b,components:{App:s},template:"<App/>"})},izWV:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d32b5fb3eef337a65c7d.js.map